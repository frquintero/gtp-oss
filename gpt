#!/bin/bash
#!/bin/bash
# GPT CLI Enhanced v2.2 - Launcher
# Ensures compatibility across different Python environments

# Get the directory where this script is located
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Use the virtual environment Python if available, otherwise system Python
if [ -f "$DIR/.venv/bin/python" ]; then
    PYTHON="$DIR/.venv/bin/python"
else
    PYTHON="python3"
fi

# Change to the project directory to ensure relative paths work
cd "$DIR"

# Check if this is quick mode (arguments provided beyond just flags)
# Quick mode is when user provides actual text input, not just flags
QUICK_MODE=false
for arg in "$@"; do
    # Skip flags that start with --
    if [[ ! "$arg" =~ ^-- ]]; then
        QUICK_MODE=true
        break
    fi
done

# Use the enhanced version
if [ "$QUICK_MODE" = false ]; then
    echo "Starting GPT CLI Enhanced v2.2.2..."
fi
$PYTHON gpt.py "$@"
